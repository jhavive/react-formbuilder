{"version":3,"file":"keysim.js","sources":["../node_modules/dom-element-is-natively-editable/index.js","../src/keysim.js"],"sourcesContent":["export default function (element) {\n  if (\n    element.ownerDocument.designMode &&\n    element.ownerDocument.designMode.toLowerCase() === 'on'\n  ) {\n    return true\n  }\n\n  switch (element.tagName.toLowerCase()) {\n    case 'input':\n      return isEditableInput(element)\n    case 'textarea':\n      return true\n  }\n\n  if (isContentEditable(element)) {\n    return true\n  }\n\n  return false\n}\n\nfunction isContentEditable (element) {\n  if (\n    element.contentEditable &&\n    element.contentEditable.toLowerCase() === 'true'\n  ) {\n    return true\n  }\n  if (\n    element.contentEditable &&\n    element.contentEditable.toLowerCase() === 'inherit' &&\n    element.parentNode\n  ) {\n    return isContentEditable(element.parentNode)\n  }\n  return false\n}\n\nfunction isEditableInput (input) {\n  switch (input.type) {\n    case 'text':\n      return true\n    case 'email':\n      return true\n    case 'password':\n      return true\n    case 'search':\n      return true\n    case 'tel':\n      return true\n    case 'url':\n      return true\n    default:\n      return false\n  }\n}\n","import isEditable from 'dom-element-is-natively-editable';\n\nconst CTRL = 1 << 0;\nconst META = 1 << 1;\nconst ALT = 1 << 2;\nconst SHIFT = 1 << 3;\n\n// Key Events\nexport const KeyEvents = {\n  DOWN: 1 << 0,\n  PRESS: 1 << 1,\n  UP: 1 << 2,\n  INPUT: 1 << 3\n};\nKeyEvents.ALL =\n  KeyEvents.DOWN | KeyEvents.PRESS | KeyEvents.UP | KeyEvents.INPUT;\n\n/**\n * Represents a keystroke, or a single key code with a set of active modifiers.\n */\nexport class Keystroke {\n  /**\n   * @param {number} modifiers A bitmask formed by CTRL, META, ALT, and SHIFT.\n   * @param {number} keyCode\n   */\n  constructor(modifiers, keyCode) {\n    this.modifiers = modifiers;\n    this.ctrlKey = !!(modifiers & CTRL);\n    this.metaKey = !!(modifiers & META);\n    this.altKey = !!(modifiers & ALT);\n    this.shiftKey = !!(modifiers & SHIFT);\n    this.keyCode = keyCode;\n  }\n\n  /**\n   * Gets the bitmask value for the \"control\" modifier.\n   *\n   * @type {number}\n   */\n  static CTRL = CTRL;\n\n  /**\n   * Gets the bitmask value for the \"meta\" modifier.\n   *\n   * @return {number}\n   */\n  static META = META;\n\n  /**\n   * Gets the bitmask value for the \"alt\" modifier.\n   *\n   * @return {number}\n   */\n  static ALT = ALT;\n\n  /**\n   * Gets the bitmask value for the \"shift\" modifier.\n   *\n   * @return {number}\n   */\n  static SHIFT = SHIFT;\n}\n\n/**\n * @typedef {\"keydown\" | \"keypress\" | \"keyup\" | \"textInput\" | \"input\"} KeyEventsName\n */\n\n/**\n * Simulates a keyboard with a particular key-to-character and key-to-action\n * mapping. Use `US_ENGLISH` to get a pre-configured keyboard.\n */\nexport class Keyboard {\n  /**\n   * @param {Object.<number, Keystroke>} charCodeKeyCodeMap\n   * @param {Object.<string, number>} actionKeyCodeMap\n   */\n  constructor(charCodeKeyCodeMap, actionKeyCodeMap) {\n    this._charCodeKeyCodeMap = charCodeKeyCodeMap;\n    this._actionKeyCodeMap = actionKeyCodeMap;\n  }\n\n  /**\n   * Determines the character code generated by pressing the given keystroke.\n   *\n   * @param {Keystroke} keystroke\n   * @return {?number}\n   */\n  charCodeForKeystroke(keystroke) {\n    let map = this._charCodeKeyCodeMap;\n    for (let charCode in map) {\n      if (Object.prototype.hasOwnProperty.call(map, charCode)) {\n        let keystrokeForCharCode = map[charCode];\n        if (\n          keystroke.keyCode === keystrokeForCharCode.keyCode &&\n          keystroke.modifiers === keystrokeForCharCode.modifiers\n        ) {\n          return parseInt(charCode, 10);\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Creates an event ready for dispatching onto the given target.\n   *\n   * @param {KeyEventsName} type\n   * @param {Keystroke} keystroke\n   * @param {HTMLElement} target\n   * @return {Event}\n   */\n  createEventFromKeystroke(type, keystroke, target) {\n    const document = target.ownerDocument;\n    const window = document.defaultView;\n    const Event = window.Event;\n\n    let event;\n\n    try {\n      event = new Event(type);\n    } catch (e) {\n      event = document.createEvent('UIEvents');\n    }\n\n    event.initEvent(type, true, true);\n\n    switch (type) {\n      case 'textInput':\n      case 'input':\n        event.data = String.fromCharCode(this.charCodeForKeystroke(keystroke));\n        break;\n\n      case 'keydown':\n      case 'keypress':\n      case 'keyup':\n        event.shiftKey = keystroke.shiftKey;\n        event.altKey = keystroke.altKey;\n        event.metaKey = keystroke.metaKey;\n        event.ctrlKey = keystroke.ctrlKey;\n        event.keyCode =\n          type === 'keypress'\n            ? this.charCodeForKeystroke(keystroke)\n            : keystroke.keyCode;\n        event.charCode = type === 'keypress' ? event.keyCode : 0;\n        event.which = event.keyCode;\n        break;\n    }\n\n    return event;\n  }\n\n  /**\n   * Fires the correct sequence of events on the given target as if the given\n   * action was undertaken by a human.\n   *\n   * @param {string} action e.g. \"alt+shift+left\" or \"backspace\"\n   * @param {HTMLElement} target\n   */\n  dispatchEventsForAction(action, target) {\n    const keystroke = this.keystrokeForAction(action);\n    this.dispatchEventsForKeystroke(keystroke, target);\n  }\n\n  /**\n   * Fires the correct sequence of events on the given target as if the given\n   * input had been typed by a human.\n   *\n   * @param {string} input\n   * @param {HTMLElement} target\n   */\n  dispatchEventsForInput(input, target) {\n    let currentModifierState = 0;\n    for (let i = 0, length = input.length; i < length; i++) {\n      const keystroke = this.keystrokeForCharCode(input.charCodeAt(i));\n      this.dispatchModifierStateTransition(\n        target,\n        currentModifierState,\n        keystroke.modifiers\n      );\n      this.dispatchEventsForKeystroke(keystroke, target, false);\n      currentModifierState = keystroke.modifiers;\n    }\n    this.dispatchModifierStateTransition(target, currentModifierState, 0);\n  }\n\n  /**\n   * Fires the correct sequence of events on the given target as if the given\n   * keystroke was performed by a human. When simulating, for example, typing\n   * the letter \"A\" (assuming a U.S. English keyboard) then the sequence will\n   * look like this:\n   *\n   *   keydown   keyCode=16 (SHIFT) charCode=0      shiftKey=true\n   *   keydown   keyCode=65 (A)     charCode=0      shiftKey=true\n   *   keypress  keyCode=65 (A)     charCode=65 (A) shiftKey=true\n   *   textInput data=A\n   *   input     data=A\n   *   keyup     keyCode=65 (A)     charCode=0      shiftKey=true\n   *   keyup     keyCode=16 (SHIFT) charCode=0      shiftKey=false\n   *\n   * If the keystroke would not cause a character to be input, such as when\n   * pressing alt+shift+left, the sequence looks like this:\n   *\n   *   keydown   keyCode=16 (SHIFT) charCode=0 altKey=false shiftKey=true\n   *   keydown   keyCode=18 (ALT)   charCode=0 altKey=true  shiftKey=true\n   *   keydown   keyCode=37 (LEFT)  charCode=0 altKey=true  shiftKey=true\n   *   keyup     keyCode=37 (LEFT)  charCode=0 altKey=true  shiftKey=true\n   *   keyup     keyCode=18 (ALT)   charCode=0 altKey=false shiftKey=true\n   *   keyup     keyCode=16 (SHIFT) charCode=0 altKey=false shiftKey=false\n   *\n   * To disable handling of modifier keys, call with `transitionModifers` set\n   * to false. Doing so will omit the keydown and keyup events associated with\n   * shift, ctrl, alt, and meta keys surrounding the actual keystroke.\n   *\n   * @param {Keystroke} keystroke\n   * @param {HTMLElement} target\n   * @param {boolean=} transitionModifiers\n   * @param {number} events\n   */\n  dispatchEventsForKeystroke(\n    keystroke,\n    target,\n    transitionModifiers = true,\n    events = KeyEvents.ALL\n  ) {\n    if (transitionModifiers) {\n      this.dispatchModifierStateTransition(\n        target,\n        0,\n        keystroke.modifiers,\n        events\n      );\n    }\n\n    let keydownEvent;\n    if (events & KeyEvents.DOWN) {\n      keydownEvent = this.createEventFromKeystroke(\n        'keydown',\n        keystroke,\n        target\n      );\n    }\n\n    if (\n      keydownEvent &&\n      target.dispatchEvent(keydownEvent) &&\n      this.targetCanReceiveTextInput(target)\n    ) {\n      let keypressEvent;\n      if (events & KeyEvents.PRESS) {\n        keypressEvent = this.createEventFromKeystroke(\n          'keypress',\n          keystroke,\n          target\n        );\n      }\n      if (\n        keypressEvent &&\n        keypressEvent.charCode &&\n        target.dispatchEvent(keypressEvent)\n      ) {\n        if (events & KeyEvents.INPUT) {\n          const textinputEvent = this.createEventFromKeystroke(\n            'textInput',\n            keystroke,\n            target\n          );\n          target.dispatchEvent(textinputEvent);\n\n          const inputEvent = this.createEventFromKeystroke(\n            'input',\n            keystroke,\n            target\n          );\n          target.dispatchEvent(inputEvent);\n        }\n      }\n    }\n\n    if (events & KeyEvents.UP) {\n      const keyupEvent = this.createEventFromKeystroke(\n        'keyup',\n        keystroke,\n        target\n      );\n      target.dispatchEvent(keyupEvent);\n    }\n\n    if (transitionModifiers) {\n      this.dispatchModifierStateTransition(target, keystroke.modifiers, 0);\n    }\n  }\n\n  /**\n   * Transitions from one modifier state to another by dispatching key events.\n   *\n   * @param {EventTarget} target\n   * @param {number} fromModifierState\n   * @param {number} toModifierState\n   * @param {number} events\n   * @private\n   */\n  dispatchModifierStateTransition(\n    target,\n    fromModifierState,\n    toModifierState,\n    events = KeyEvents.ALL\n  ) {\n    let currentModifierState = fromModifierState;\n    let didHaveMeta = (fromModifierState & META) === META;\n    let willHaveMeta = (toModifierState & META) === META;\n    let didHaveCtrl = (fromModifierState & CTRL) === CTRL;\n    let willHaveCtrl = (toModifierState & CTRL) === CTRL;\n    let didHaveShift = (fromModifierState & SHIFT) === SHIFT;\n    let willHaveShift = (toModifierState & SHIFT) === SHIFT;\n    let didHaveAlt = (fromModifierState & ALT) === ALT;\n    let willHaveAlt = (toModifierState & ALT) === ALT;\n\n    const includeKeyUp = events & KeyEvents.UP;\n    const includeKeyDown = events & KeyEvents.DOWN;\n\n    if (includeKeyUp && didHaveMeta === true && willHaveMeta === false) {\n      // Release the meta key.\n      currentModifierState &= ~META;\n      target.dispatchEvent(\n        this.createEventFromKeystroke(\n          'keyup',\n          new Keystroke(currentModifierState, this._actionKeyCodeMap.META),\n          target\n        )\n      );\n    }\n\n    if (includeKeyUp && didHaveCtrl === true && willHaveCtrl === false) {\n      // Release the ctrl key.\n      currentModifierState &= ~CTRL;\n      target.dispatchEvent(\n        this.createEventFromKeystroke(\n          'keyup',\n          new Keystroke(currentModifierState, this._actionKeyCodeMap.CTRL),\n          target\n        )\n      );\n    }\n\n    if (includeKeyUp && didHaveShift === true && willHaveShift === false) {\n      // Release the shift key.\n      currentModifierState &= ~SHIFT;\n      target.dispatchEvent(\n        this.createEventFromKeystroke(\n          'keyup',\n          new Keystroke(currentModifierState, this._actionKeyCodeMap.SHIFT),\n          target\n        )\n      );\n    }\n\n    if (includeKeyUp && didHaveAlt === true && willHaveAlt === false) {\n      // Release the alt key.\n      currentModifierState &= ~ALT;\n      target.dispatchEvent(\n        this.createEventFromKeystroke(\n          'keyup',\n          new Keystroke(currentModifierState, this._actionKeyCodeMap.ALT),\n          target\n        )\n      );\n    }\n\n    if (includeKeyDown && didHaveMeta === false && willHaveMeta === true) {\n      // Press the meta key.\n      currentModifierState |= META;\n      target.dispatchEvent(\n        this.createEventFromKeystroke(\n          'keydown',\n          new Keystroke(currentModifierState, this._actionKeyCodeMap.META),\n          target\n        )\n      );\n    }\n\n    if (includeKeyDown && didHaveCtrl === false && willHaveCtrl === true) {\n      // Press the ctrl key.\n      currentModifierState |= CTRL;\n      target.dispatchEvent(\n        this.createEventFromKeystroke(\n          'keydown',\n          new Keystroke(currentModifierState, this._actionKeyCodeMap.CTRL),\n          target\n        )\n      );\n    }\n\n    if (includeKeyDown && didHaveShift === false && willHaveShift === true) {\n      // Press the shift key.\n      currentModifierState |= SHIFT;\n      target.dispatchEvent(\n        this.createEventFromKeystroke(\n          'keydown',\n          new Keystroke(currentModifierState, this._actionKeyCodeMap.SHIFT),\n          target\n        )\n      );\n    }\n\n    if (includeKeyDown && didHaveAlt === false && willHaveAlt === true) {\n      // Press the alt key.\n      currentModifierState |= ALT;\n      target.dispatchEvent(\n        this.createEventFromKeystroke(\n          'keydown',\n          new Keystroke(currentModifierState, this._actionKeyCodeMap.ALT),\n          target\n        )\n      );\n    }\n\n    if (currentModifierState !== toModifierState) {\n      throw new Error(\n        `internal error, expected modifier state: ${toModifierState}` +\n          `, got: ${currentModifierState}`\n      );\n    }\n  }\n\n  /**\n   * Returns the keystroke associated with the given action.\n   *\n   * @param {string} action\n   * @return {?Keystroke}\n   */\n  keystrokeForAction(action) {\n    let keyCode = null;\n    let modifiers = 0;\n\n    let parts = action.split('+');\n    let lastPart = parts.pop();\n\n    parts.forEach(part => {\n      switch (part.toUpperCase()) {\n        case 'CTRL':\n          modifiers |= CTRL;\n          break;\n        case 'META':\n          modifiers |= META;\n          break;\n        case 'ALT':\n          modifiers |= ALT;\n          break;\n        case 'SHIFT':\n          modifiers |= SHIFT;\n          break;\n        default:\n          throw new Error(`in \"${action}\", invalid modifier: ${part}`);\n      }\n    });\n\n    if (lastPart.toUpperCase() in this._actionKeyCodeMap) {\n      keyCode = this._actionKeyCodeMap[lastPart.toUpperCase()];\n    } else if (lastPart.length === 1) {\n      let lastPartKeystroke = this.keystrokeForCharCode(lastPart.charCodeAt(0));\n      modifiers |= lastPartKeystroke.modifiers;\n      keyCode = lastPartKeystroke.keyCode;\n    } else {\n      throw new Error(`in \"${action}\", invalid action: ${lastPart}`);\n    }\n\n    return new Keystroke(modifiers, keyCode);\n  }\n\n  /**\n   * Gets the keystroke used to generate the given character code.\n   *\n   * @param {number} charCode\n   * @return {?Keystroke}\n   */\n  keystrokeForCharCode(charCode) {\n    return this._charCodeKeyCodeMap[charCode] || null;\n  }\n\n  /**\n   * @param {EventTarget} target\n   * @private\n   */\n  targetCanReceiveTextInput(target) {\n    if (!target) {\n      return false;\n    }\n\n    return isEditable(target);\n  }\n}\n\nconst US_ENGLISH_CHARCODE_KEYCODE_MAP = {\n  32: new Keystroke(0, 32), // <space>\n  33: new Keystroke(SHIFT, 49), // !\n  34: new Keystroke(SHIFT, 222), // \"\n  35: new Keystroke(SHIFT, 51), // #\n  36: new Keystroke(SHIFT, 52), // $\n  37: new Keystroke(SHIFT, 53), // %\n  38: new Keystroke(SHIFT, 55), // &\n  39: new Keystroke(0, 222), // '\n  40: new Keystroke(SHIFT, 57), // (\n  41: new Keystroke(SHIFT, 48), // )\n  42: new Keystroke(SHIFT, 56), // *\n  43: new Keystroke(SHIFT, 187), // +\n  44: new Keystroke(0, 188), // ,\n  45: new Keystroke(0, 189), // -\n  46: new Keystroke(0, 190), // .\n  47: new Keystroke(0, 191), // /\n  48: new Keystroke(0, 48), // 0\n  49: new Keystroke(0, 49), // 1\n  50: new Keystroke(0, 50), // 2\n  51: new Keystroke(0, 51), // 3\n  52: new Keystroke(0, 52), // 4\n  53: new Keystroke(0, 53), // 5\n  54: new Keystroke(0, 54), // 6\n  55: new Keystroke(0, 55), // 7\n  56: new Keystroke(0, 56), // 8\n  57: new Keystroke(0, 57), // 9\n  58: new Keystroke(SHIFT, 186), // :\n  59: new Keystroke(0, 186), // ;\n  60: new Keystroke(SHIFT, 188), // <\n  61: new Keystroke(0, 187), // =\n  62: new Keystroke(SHIFT, 190), // >\n  63: new Keystroke(SHIFT, 191), // ?\n  64: new Keystroke(SHIFT, 50), // @\n  65: new Keystroke(SHIFT, 65), // A\n  66: new Keystroke(SHIFT, 66), // B\n  67: new Keystroke(SHIFT, 67), // C\n  68: new Keystroke(SHIFT, 68), // D\n  69: new Keystroke(SHIFT, 69), // E\n  70: new Keystroke(SHIFT, 70), // F\n  71: new Keystroke(SHIFT, 71), // G\n  72: new Keystroke(SHIFT, 72), // H\n  73: new Keystroke(SHIFT, 73), // I\n  74: new Keystroke(SHIFT, 74), // J\n  75: new Keystroke(SHIFT, 75), // K\n  76: new Keystroke(SHIFT, 76), // L\n  77: new Keystroke(SHIFT, 77), // M\n  78: new Keystroke(SHIFT, 78), // N\n  79: new Keystroke(SHIFT, 79), // O\n  80: new Keystroke(SHIFT, 80), // P\n  81: new Keystroke(SHIFT, 81), // Q\n  82: new Keystroke(SHIFT, 82), // R\n  83: new Keystroke(SHIFT, 83), // S\n  84: new Keystroke(SHIFT, 84), // T\n  85: new Keystroke(SHIFT, 85), // U\n  86: new Keystroke(SHIFT, 86), // V\n  87: new Keystroke(SHIFT, 87), // W\n  88: new Keystroke(SHIFT, 88), // X\n  89: new Keystroke(SHIFT, 89), // Y\n  90: new Keystroke(SHIFT, 90), // Z\n  91: new Keystroke(0, 219), // [\n  92: new Keystroke(0, 220), // \\\n  93: new Keystroke(0, 221), // ]\n  94: new Keystroke(SHIFT, 54), // ^\n  95: new Keystroke(SHIFT, 189), // _\n  96: new Keystroke(0, 192), // `\n  97: new Keystroke(0, 65), // a\n  98: new Keystroke(0, 66), // b\n  99: new Keystroke(0, 67), // c\n  100: new Keystroke(0, 68), // d\n  101: new Keystroke(0, 69), // e\n  102: new Keystroke(0, 70), // f\n  103: new Keystroke(0, 71), // g\n  104: new Keystroke(0, 72), // h\n  105: new Keystroke(0, 73), // i\n  106: new Keystroke(0, 74), // j\n  107: new Keystroke(0, 75), // k\n  108: new Keystroke(0, 76), // l\n  109: new Keystroke(0, 77), // m\n  110: new Keystroke(0, 78), // n\n  111: new Keystroke(0, 79), // o\n  112: new Keystroke(0, 80), // p\n  113: new Keystroke(0, 81), // q\n  114: new Keystroke(0, 82), // r\n  115: new Keystroke(0, 83), // s\n  116: new Keystroke(0, 84), // t\n  117: new Keystroke(0, 85), // u\n  118: new Keystroke(0, 86), // v\n  119: new Keystroke(0, 87), // w\n  120: new Keystroke(0, 88), // x\n  121: new Keystroke(0, 89), // y\n  122: new Keystroke(0, 90), // z\n  123: new Keystroke(SHIFT, 219), // {\n  124: new Keystroke(SHIFT, 220), // |\n  125: new Keystroke(SHIFT, 221), // }\n  126: new Keystroke(SHIFT, 192) // ~\n};\n\nconst US_ENGLISH_ACTION_KEYCODE_MAP = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  PAUSE: 19,\n  CAPSLOCK: 20,\n  ESCAPE: 27,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  INSERT: 45,\n  DELETE: 46,\n  META: 91,\n  F1: 112,\n  F2: 113,\n  F3: 114,\n  F4: 115,\n  F5: 116,\n  F6: 117,\n  F7: 118,\n  F8: 119,\n  F9: 120,\n  F10: 121,\n  F11: 122,\n  F12: 123\n};\n\n/**\n * Gets a keyboard instance configured as a U.S. English keyboard would be.\n *\n * @return {Keyboard}\n */\nKeyboard.US_ENGLISH = new Keyboard(\n  US_ENGLISH_CHARCODE_KEYCODE_MAP,\n  US_ENGLISH_ACTION_KEYCODE_MAP\n);\n"],"names":["element","ownerDocument","designMode","toLowerCase","tagName","isEditableInput","isContentEditable","contentEditable","parentNode","input","type","CTRL","META","ALT","SHIFT","KeyEvents","DOWN","PRESS","UP","INPUT","ALL","Keystroke","modifiers","keyCode","ctrlKey","metaKey","altKey","shiftKey","Keyboard","charCodeKeyCodeMap","actionKeyCodeMap","_charCodeKeyCodeMap","_actionKeyCodeMap","keystroke","map","charCode","Object","prototype","hasOwnProperty","call","keystrokeForCharCode","parseInt","target","document","window","defaultView","Event","event","e","createEvent","initEvent","data","String","fromCharCode","charCodeForKeystroke","which","action","keystrokeForAction","dispatchEventsForKeystroke","currentModifierState","i","length","charCodeAt","dispatchModifierStateTransition","transitionModifiers","events","keydownEvent","createEventFromKeystroke","dispatchEvent","targetCanReceiveTextInput","keypressEvent","textinputEvent","inputEvent","keyupEvent","fromModifierState","toModifierState","didHaveMeta","willHaveMeta","didHaveCtrl","willHaveCtrl","didHaveShift","willHaveShift","didHaveAlt","willHaveAlt","includeKeyUp","includeKeyDown","Error","parts","split","lastPart","pop","forEach","part","toUpperCase","lastPartKeystroke","isEditable","US_ENGLISH_CHARCODE_KEYCODE_MAP","US_ENGLISH_ACTION_KEYCODE_MAP","BACKSPACE","TAB","ENTER","PAUSE","CAPSLOCK","ESCAPE","PAGEUP","PAGEDOWN","END","HOME","LEFT","RIGHT","INSERT","DELETE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","US_ENGLISH"],"mappings":"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"}